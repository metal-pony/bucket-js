# Sudoku notes

Definitions| |
|---|---|
`cell` | A space on the sudoku board. Duh.
`candidates` | The possible digits a cell may be while maintaining validity.
`config` | Sudoku grid that is full and valid.
`normal` | A puzzle or `config` is `normal` if its top row is full and in ascending order.
`unavoidable set (UA)` | Set of `m cells` that when removed from a given `config`, results in a puzzle with multiple solutions and whose `antiderivatives` each have a single solution.
`puzzle mask` | An 81 length bitmask, used as a filter applied to a `config` to create a puzzle, where the positions of `1` bits in the mask are associated with which cell clues to keep from the config.
`diff` | A puzzle mask showing the differing digits between two configs, where 1-bits indicate a difference between the associated cells.
`sieve` | A catalog containing UAs.
`derivative` | A derivative of a puzzle is made by removing digit(s) from another grid.
`antiderivative` | An antiderivative of a puzzle or config is made by adding digit(s) to another grid.
`fingerprint` | A hashing algorithm designed to return the same value for a `config` regardless of the way its been transformed by symmetry-preserving operations (digit-swapping, rotation, mirroring, and the like).
`reduction matrix` | A 9x9 matrix based on a sieve, where values indicate the number of occurrences that cell appears among a set of UAs. The information is then used by different puzzle search strategies.

## Observations

> The size of the search space for all minimum clue puzzles of any single config:
> (81 choose 17) = 128 quadrillion,447,994,798,305,325.

> `d(p).mask < p.mask < a(p).mask` for all partially-full grids `p`.

> For a long term search of minimum clue puzzles, it's necessary to (a) track which configs have been searched, and (b) distinguish configs from their possible transforms.
>
> <sub>I've created a fingerprinting algorithm for (b), which essentially just builds part of the uber UA, and serializes some of the metadata.</sub>

> Nonzero diffs of solutions to a config's derivatives are UAs.

> Let `K(n)` be the set of all UAs utilizing exactly `n` digits. For any UA, `m` is the number of cells used.
>
> The sum of all `m` in `K(2)` is always `(9 | 2)(9n) = 36*18 = 648`, and can be expressed as a linear combination of even `m` values in `[4, 18]` (but `m` never 16).

<details>
<summary>Example</summary>

```
Here's a random config and its K(2) set, with `m` noted:
472569138863417592195823764981632475657948213324751986248176359739285641516394827`

  m
[ 4] ..........................................................7...9.............9...7
[ 4] ..........6.....9..9.....6.......................................................
[ 4] ...........................9..6.....6..9.........................................
[ 4] .....................82...........................................28.............
[ 4] .........................................8.1......1.8............................
[ 4] .............................1....7...7....1.....................................
[ 4] ....................................6.......33.......6...........................
[ 4] ......................................................2......5..........5......2.
[ 4] ......................23.......32................................................

[ 6] 4.......88..4........8....4......................................................
[ 6] ..2.....88.......2....................................2.8........................
[ 6] .7..6.....6...7...........................................76.....................
[ 6] .............17.................................7.1......17......................
[ 6] ...56.........................6....5.............5...6...........................
[ 6] 4.2...........................................24......24.........................

[ 8] .....9.3...3....9..9...3........................................39...............
[ 8] ............................8...2........82...2.....8.........................82.
[ 8] .7....1...........1.....7......................................7.......1.1......7
[ 8] ...........3.1....1....3.....1.3.............3....1..............................

[10] ....69.............................................9.6.....6..9..9...6....6.9....
[10] ...........................9...3.......9....33.....9........3.9............39....
[10] ......13...................................13............1..3...3......1.1.3.....

[12] ............................8....4......48.....4....8..48..........8..4......48..
[12] ........................76....6...7.6.7.........7....6.........7.....6....6.....7
[12] ..........6....5....5....6..........65.....................6.5......56..5.6......
[12] ............4....2....2...4.....24......4.2.......................2...4......4.2.

[14] .7...9........7.9..9....7..9......7...79........7..9...........7.9...............
[14] ......1.88...1....1..8......81..........................81.........8...1.1....8..
[14] ....6..3..63...........3.6....63...........................63...3....6....63.....
[14] ..25...........5.2..5.2.........2..5.5....2...2..5................2.5............
[14] ..2....3...3.....2........................2.332.......2.....3...3.2........3...2.

[18] .....9..88......9..9.8.....98..........9.8.........98...8.....9..9.8........9.8..
[18] ...5.9.........59..95......9.......5.5.9.........5.9.........59..9..5...5...9....
[18] 4....9......4...9..9......49.....4.....94......4...9...4......9..9....4.....94...
[18] ..2..9..........92.9..2....9....2......9..2...2....9..2.......9..92.........9..2.
[18] .....91......1..9.19.......9.1.........9...1......19.....1....9..9.....1.1..9....
[18] .7......88....7......8..7...8.....7...7..8......7...8...8.7....7...8..........8.7
[18] ....6...886..........8...6..8.6.....6....8..........86..8..6.......8.6....6...8..
[18] ...5....88.....5....58......8......5.5...8.......5..8...8....5.....85...5.....8..
[18] .......388.3.........8.3....8..3.........8..33......8...8...3...3..8.......3..8..
[18] .7.5..........75....5...7.........75.57.........75........7..5.7....5...5.......7
[18] 47..........4.7.........7.4......47...7.4......47......4..7....7......4......4..7
[18] .7.....3...3..7........37......3..7...7.....33..7.........7.3..73..........3....7
[18] .72...........7..2....2.7.......2.7...7...2...2.7.....2...7....7..2............27
[18] 4...6.....6.4............64...6..4..6...4......4.....6.4...6.........64...6..4...
[18] ..2.6.....6......2....2..6....6.2...6.....2...2......62....6......2..6....6....2.
[18] ....6.1...6..1....1......6...16.....6......1......1..6...1.6.........6.1.16......
[18] 4..5........4..5....5.....4......4.5.5..4......4.5.....4.....5......5.4.5....4...
[18] ...5...3...3...5....5..3.......3...5.5......33...5..........35..3...5...5..3.....
[18] ...5..1......1.5..1.5........1.....5.5.....1.....51......1...5......5..151.......
[18] 4......3...34..........3..4....3.4......4...33.4.......4....3...3.....4....3.4...
[18] 4.....1.....41....1.......4..1...4......4..1...4..1....4.1............41.1...4...
[18] ..2...1......1...21...2......1..2.........21..2...1...2..1........2....1.1.....2.

Sigma(m(k_i), k âˆˆ K(2)) =>
9(4) + 6(6) + 4(8) + 3(10) + 4(12) + 5(14) + 16(18) =>
(9 | 2)(18) = 648
```
</details>
